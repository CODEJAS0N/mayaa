<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:m="http://mayaa.seasar.org"
      xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<title>${ handledError.getClass().getName() }</title>
	</head>
	<body m:inject="m:exec"
			m:script="${ var msg = handledError.emphasizeDetails(); if(!msg) { msg = handledError.message; if(msg == null) { msg = handledError.getClass().getName(); } } }">
		<h1 style="white-space: pre;"><span m:inject="m:write" m:value="${ msg }" m:escapeXml="false">エラーメッセージ</span></h1>
		<h3>properties:</h3>
		<p>
			sourceName: ${ handledError.sourceName() }<br/>
			lineNumber: ${ handledError.lineNumber() }<br/>
			lineSource: ${ handledError.lineSource() }<br/>
		</p>
		<h3>stackTrace:</h3>
		<p>
			<span m:inject="m:for"
					m:init="${ var trace = handledError.stackTrace; var i = 0 }"
					m:test="${ i &lt; trace.length }" m:after="${ i++ }">
				${ trace[i].className }.${ trace[i].methodName }(${ trace[i].lineNumber })<br>
			</span>
		</p>
	    ${ response.setStatus(500); }
	</body>
</html>
